(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{412:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>z});var a=r(9835),o=r(5931),n=r(4903),l=r(5084),s=r(8951),i=r(2411);function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,s.$)(t))}let d=e=>{let{text:t}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,a.jsxs)("svg",{className:"animate-spin h-8 w-8 text-neutral-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t&&(0,a.jsx)("p",{className:"text-sm text-neutral-500 mt-2",children:t})]})},u=e=>{let{error:t,onRetry:r}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("p",{className:"text-sm text-neutral-500",children:"Sorry, something went wrong."}),(0,a.jsx)("button",{onClick:r,className:"mt-2 text-sm font-semibold text-yellow-500 hover:text-yellow-400",children:"Try Again"}),t&&(0,a.jsx)("p",{className:"text-xs text-neutral-600 mt-1 max-w-full truncate",title:t,children:t})]})},m=e=>{let{id:t,dataUrl:r,imageUrl:s,generatedUrl:i,date:m,message:h,status:p,error:f,onUpdate:g,onDelete:x,onGenerate:y,isSharedView:v}=e,[w,b]=(0,o.useState)(!1),[j,k]=(0,o.useState)(!1),[N,E]=(0,o.useState)("generated"),[A,S]=(0,o.useState)(""),[L,C]=(0,o.useState)(!1),M="original"===N?s:i,U="generated"===N&&"done"===p&&i;(0,o.useEffect)(()=>{let e=(()=>{let e=[];return v?(i&&e.push(i),s&&e.push(s)):("generated"===N&&i&&e.push(i),"original"===N&&s&&e.push(s)),r&&e.push(r),e.filter(Boolean)})(),t=0,a=()=>{if(t>=e.length){C(!0),k(!1);return}let r=new Image,o=e[t];r.onload=()=>{S(o),k(!0),C(!1)},r.onerror=()=>{console.log("Failed to load image from: ".concat(o)),t++,a()},r.src=o};e.length>0&&(k(!1),C(!1),a())},[M,r,s,i,N,v]),(0,o.useEffect)(()=>{("pending"===p||"idle"===p||"error"===p||"uploading"===p)&&(b(!1),k(!1),E("generated")),"done"===p&&i&&(b(!1),k(!1))},[i,p]),(0,o.useEffect)(()=>{if(j&&"generated"===N){let e=setTimeout(()=>b(!0),200);return()=>clearTimeout(e)}"original"===N&&b(!0)},[j,N]);let T="idle"===p;return(0,a.jsxs)("div",{className:"bg-neutral-100 dark:bg-neutral-100 !p-2 sm:!p-4 !pb-16 sm:!pb-24 flex flex-col items-center justify-start aspect-[3/4] w-full sm:w-80 max-w-[200px] sm:max-w-full rounded-md shadow-lg relative group",children:[(0,a.jsxs)("div",{className:"w-full bg-neutral-900 shadow-inner flex-grow relative overflow-hidden",children:[(0,a.jsxs)(n.N,{children:["pending"===p&&(0,a.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-10",children:(0,a.jsx)(d,{})}),"uploading"===p&&(0,a.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-10",children:(0,a.jsx)(d,{text:"Uploading..."})}),"error"===p&&(0,a.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-10",children:(0,a.jsx)(u,{error:f,onRetry:y})})]}),!v&&(0,a.jsxs)("div",{className:"absolute top-2 right-2 z-20 flex flex-col gap-2",children:["pending"!==p&&"uploading"!==p&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),x()},className:"p-2 bg-black/50 rounded-full text-white hover:bg-red-500/75 focus:outline-none focus:ring-2 focus:ring-white opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Delete photo for ".concat(m),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),"done"===p&&i&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),E(e=>"generated"===e?"original":"generated")},className:"p-2 bg-black/50 rounded-full text-white hover:bg-black/75 focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Switch image",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,a.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]}),U&&(0,a.jsx)("div",{className:"absolute inset-0 z-10 bg-[#3a322c] transition-opacity duration-[3500ms] ease-out ".concat(w?"opacity-0":"opacity-100"),"aria-hidden":"true"}),(0,a.jsx)(n.N,{mode:"wait",children:!L&&A?(0,a.jsx)(l.P.img,{src:A,alt:m,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"w-full h-full object-cover transition-all duration-[4000ms] ease-in-out ".concat(w&&U?"filter-none":U?"filter sepia(1) contrast(0.8) brightness(0.8)":""),style:{opacity:+!!j}},A):L?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-neutral-800",children:(0,a.jsxs)("div",{className:"text-center p-4",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-neutral-500 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,a.jsx)("p",{className:"text-xs text-neutral-500",children:"Image not available"})]})}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-neutral-900",children:(0,a.jsx)(d,{text:"Loading image..."})})})]}),(0,a.jsxs)("div",{className:"absolute bottom-2 sm:bottom-4 left-2 sm:left-4 right-2 sm:right-4 text-center px-1 sm:px-2 flex flex-col gap-0.5 sm:gap-1",children:[(0,a.jsx)("input",{type:"text",value:m,onChange:e=>g({date:e.target.value}),placeholder:"Date or Caption",readOnly:!T,className:c("font-permanent-marker text-sm sm:text-lg truncate w-full bg-transparent text-center focus:outline-none focus:ring-1 focus:ring-yellow-500 rounded-sm","done"===p?"text-black":"text-neutral-800",T?"cursor-text":"cursor-default")}),(0,a.jsx)("textarea",{value:h,onChange:e=>g({message:e.target.value}),placeholder:"Describe the memory...",rows:2,readOnly:!T,className:c("font-permanent-marker text-xs sm:text-sm w-full bg-transparent text-center resize-none focus:outline-none focus:ring-1 focus:ring-yellow-500 rounded-sm text-neutral-600",T?"cursor-text":"cursor-default")}),"idle"===p&&(0,a.jsx)("button",{onClick:y,disabled:!m||!h,className:"mt-1 font-permanent-marker text-base text-center text-black bg-yellow-400 py-1.5 px-4 rounded-sm transform transition-transform duration-200 hover:scale-105 hover:-rotate-2 hover:bg-yellow-300 shadow-[1px_1px_0px_1px_rgba(0,0,0,0.2)] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:rotate-0",children:"Generate Image"})]})]})};async function h(e){let t=document.createElement("canvas");t.width=2480,t.height=3508;let r=t.getContext("2d");if(!r)throw Error("Could not get 2D canvas context");r.fillStyle="#fdf5e6",r.fillRect(0,0,2480,3508),r.fillStyle="#333",r.textAlign="center",r.font="bold 100px 'Caveat', cursive",r.fillText("Generated with First Anniversary",1240,150),r.font="50px 'Roboto', sans-serif",r.fillStyle="#555",r.fillText("on Google AI Studio",1240,220);let a=Object.keys(e),o=await Promise.all(Object.values(e).map(e=>new Promise((t,r)=>{let a=new Image;a.crossOrigin="anonymous",a.onload=()=>t(a),a.onerror=t=>r(Error("Failed to load image: ".concat(e.substring(0,100),"..."))),a.src=e}))),n=a.map((e,t)=>({decade:e,img:o[t]})),l=1090,s=936,i=842.4,c=981,d=1177.2;c=(d=i)/1.2;let u=.9*c;return[...n].reverse().forEach((e,t)=>{let{decade:a,img:o}=e,i=n.length-1-t,m=Math.floor(i/2),h=i%2,p=100*(h+1)+l*h+(l-c)/2,f=300+100*(m+1)+s*m+(s-d)/2;r.save(),r.translate(p+c/2,f+d/2);let g=(Math.random()-.5)*.1;r.rotate(g),r.shadowColor="rgba(0, 0, 0, 0.3)",r.shadowBlur=35,r.shadowOffsetX=5,r.shadowOffsetY=10,r.fillStyle="#fff",r.fillRect(-c/2,-d/2,c,d),r.shadowColor="transparent";let x=o.naturalWidth/o.naturalHeight,y=u,v=y/x;v>u&&(y=(v=u)*x);let w=-d/2+(c-u)/2,b=-y/2,j=w+(u-v)/2;r.drawImage(o,b,j,y,v),r.fillStyle="#222",r.font="60px 'Permanent Marker', cursive",r.textAlign="center",r.textBaseline="middle";let k=w+u,N=d/2;r.fillText(a,0,k+(N-k)/2),r.restore()}),t.toDataURL("image/jpeg",.9)}let p=["to try different hairstyles.","to turn your pet into a cartoon character.","to create a fantasy version of yourself.","to design a superhero based on your photo.","to place yourself in famous historical events.","to generate a custom video game avatar."],f=()=>{let[e,t]=(0,o.useState)(0);return(0,o.useEffect)(()=>{let e=setInterval(()=>{t(e=>(e+1)%p.length)},3500);return()=>clearInterval(e)},[]),(0,a.jsx)("footer",{className:"fixed bottom-0 left-0 right-0 bg-black/50 backdrop-blur-sm p-3 z-50 text-neutral-300 text-xs sm:text-sm border-t border-white/10",children:(0,a.jsxs)("div",{className:"max-w-screen-xl mx-auto flex justify-between items-center gap-4 px-4",children:[(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-4 text-neutral-500 whitespace-nowrap",children:[(0,a.jsx)("p",{children:"Powered by Gemini 2.5 Flash Image Preview"}),(0,a.jsx)("span",{className:"text-neutral-700","aria-hidden":"true",children:"|"}),(0,a.jsxs)("p",{children:["Created by"," ",(0,a.jsx)("a",{href:"https://x.com/ammaar",target:"_blank",rel:"noopener noreferrer",className:"text-neutral-400 hover:text-yellow-400 transition-colors duration-200",children:"@ammaar"})]})]}),(0,a.jsxs)("div",{className:"flex-grow flex justify-end items-center gap-4 sm:gap-6",children:[(0,a.jsxs)("div",{className:"hidden lg:flex items-center gap-2 text-neutral-400 text-right min-w-0",children:[(0,a.jsx)("span",{className:"flex-shrink-0",children:"Remix this app..."}),(0,a.jsx)("div",{className:"relative w-64 h-5",children:(0,a.jsx)(n.N,{mode:"wait",children:(0,a.jsx)(l.P.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.4,ease:"easeInOut"},className:"absolute inset-0 font-medium text-neutral-200 whitespace-nowrap text-left",children:p[e]},e)})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 sm:gap-6",children:[(0,a.jsx)("a",{href:"https://aistudio.google.com/apps",target:"_blank",rel:"noopener noreferrer",className:"font-permanent-marker text-sm sm:text-base text-center text-black bg-yellow-400 py-2 px-4 rounded-sm transform transition-transform duration-200 hover:scale-105 hover:-rotate-2 hover:bg-yellow-300 shadow-[1px_1px_0px_1px_rgba(0,0,0,0.2)] whitespace-nowrap",children:"Apps on AI Studio"}),(0,a.jsx)("a",{href:"https://gemini.google.com/",target:"_blank",rel:"noopener noreferrer",className:"font-permanent-marker text-sm sm:text-base text-center text-white bg-white/10 backdrop-blur-sm border border-white/50 py-2 px-4 rounded-sm transform transition-transform duration-200 hover:scale-105 hover:rotate-2 hover:bg-white hover:text-black whitespace-nowrap",children:"Chat with Gemini"})]})]})]})})};var g=r(8051),x=r(9312),y=r(6248),v=r(42),w=r(8188),b=r(6336);let j=e=>{let{className:t,children:r,dragConstraintsRef:n,onDrag:s,onDragStart:i}=e,d=(0,g.d)(0),u=(0,g.d)(0),m=(0,o.useRef)(null),h=(0,x.E)(),p=(0,y.V)(d),f=(0,y.V)(u),j={stiffness:100,damping:20,mass:.5},k=(0,v.z)((0,w.G)(u,[-300,300],[25,-25]),j),N=(0,v.z)((0,w.G)(d,[-300,300],[-25,25]),j),E=(0,v.z)((0,w.G)(d,[-300,0,300],[.8,1,.8]),j),A=(0,v.z)((0,w.G)(d,[-300,0,300],[.2,0,.2]),j);return(0,a.jsxs)(l.P.div,{ref:m,drag:!0,dragConstraints:n,onDrag:s,onDragStart:(e,t)=>{document.body.style.cursor="grabbing",h.start({rotateX:0,rotateY:0,transition:{duration:.2}}),null==i||i(e,t)},onDragEnd:(e,t)=>{document.body.style.cursor="default";let r=p.get(),a=f.get(),o=Math.min(.8,Math.sqrt(r*r+a*a)/1e3);(0,b.i)(t.point.x,t.point.x+.3*r,{duration:.8,ease:[.2,0,0,1],bounce:o,type:"spring",stiffness:50,damping:15,mass:.8}),(0,b.i)(t.point.y,t.point.y+.3*a,{duration:.8,ease:[.2,0,0,1],bounce:o,type:"spring",stiffness:50,damping:15,mass:.8})},style:{rotateX:k,rotateY:N,opacity:E,willChange:"transform"},animate:h,whileHover:{scale:1.02},whileTap:{scale:.98,cursor:"grabbing"},onMouseMove:e=>{var t,r;if(m.current&&m.current.style.transform.includes("translate3d"))return;let{clientX:a,clientY:o}=e,{width:n,height:l,left:s,top:i}=null!=(r=null==(t=m.current)?void 0:t.getBoundingClientRect())?r:{width:0,height:0,left:0,top:0};d.set(a-(s+n/2)),u.set(o-(i+l/2))},onMouseLeave:()=>{d.set(0),u.set(0)},className:c("relative min-h-96 w-80 overflow-hidden rounded-md bg-neutral-100 p-6 shadow-2xl [transform-style:preserve-3d] dark:bg-neutral-900",t),children:[r,(0,a.jsx)(l.P.div,{style:{opacity:A,background:"radial-gradient(circle at center, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 60%)",transform:"translate(-50%, -50%)",left:(0,w.G)(d,e=>"".concat(50+.1*e,"%")),top:(0,w.G)(u,e=>"".concat(50+.1*e,"%")),width:"200%",height:"200%"},className:"pointer-events-none absolute inset-0 select-none"})]})},k=e=>{let{className:t,children:r}=e;return(0,a.jsx)("div",{className:c("flex items-center justify-center [perspective:1000px]",t),children:r})},N=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.007 9.007 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.757 3.63 8.25 4.51 8.25H6.75z"})}),E=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75L19.5 12m0 0l2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.007 9.007 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.757 3.63 8.25 4.51 8.25H6.75z"})}),A=e=>{let{isSharedView:t=!1}=e,[r,n]=(0,o.useState)(!1),l=(0,o.useRef)(null),[s,i]=(0,o.useState)(!1);(0,o.useEffect)(()=>{console.log("\uD83C\uDFB5 MusicPlayer: Component mounting, isSharedView:",t);try{l.current=new Audio("/background-music.mp3"),l.current.loop=!0,l.current.volume=.3,console.log("\uD83C\uDFB5 Audio object created successfully, src:",l.current.src),l.current.addEventListener("error",e=>{var t,r;console.error("\uD83C\uDFB5 Audio load error:",e,"Network state:",null==(t=l.current)?void 0:t.networkState,"Ready state:",null==(r=l.current)?void 0:r.readyState)}),l.current.addEventListener("loadstart",()=>{console.log("\uD83C\uDFB5 Audio load started")}),l.current.addEventListener("canplay",()=>{console.log("\uD83C\uDFB5 Audio can play")}),l.current.addEventListener("loadeddata",()=>{console.log("\uD83C\uDFB5 Audio data loaded")})}catch(e){console.error("\uD83C\uDFB5 Failed to create Audio object:",e);return}let e=l.current,r=()=>{var e,t,r,a,o,s;console.log("\uD83C\uDFB5 Audio play event fired",{currentTime:null==(e=l.current)?void 0:e.currentTime,duration:null==(t=l.current)?void 0:t.duration,volume:null==(r=l.current)?void 0:r.volume,muted:null==(a=l.current)?void 0:a.muted,paused:null==(o=l.current)?void 0:o.paused}),(null==(s=l.current)?void 0:s.muted)&&(console.log("\uD83C\uDFB5 Audio was muted, unmuting now"),l.current.muted=!1),n(!0),i(!1)},a=()=>{console.log("\uD83C\uDFB5 Audio pause event fired"),n(!1)},o=()=>{console.log("\uD83C\uDFB5 Audio ended event fired"),n(!1)};if(!e)return void console.error("\uD83C\uDFB5 Audio object is null, cannot add event listeners");e.addEventListener("play",r),e.addEventListener("pause",a),e.addEventListener("ended",o),console.log("\uD83C\uDFB5 Event listeners added to audio object"),(async()=>{var e,r,a,o,n,s,c;console.log("\uD83C\uDFB5 Attempting to play audio, current state:",{paused:null==(e=l.current)?void 0:e.paused,currentTime:null==(r=l.current)?void 0:r.currentTime,duration:null==(a=l.current)?void 0:a.duration,readyState:null==(o=l.current)?void 0:o.readyState,networkState:null==(n=l.current)?void 0:n.networkState});try{await (null==(s=l.current)?void 0:s.play()),console.log("\uD83C\uDFB5 Direct auto-play succeeded")}catch(e){if(console.log("\uD83C\uDFB5 Direct auto-play failed:",e),t)try{l.current.muted=!0,await (null==(c=l.current)?void 0:c.play()),console.log("Muted auto-play succeeded, unmuting..."),setTimeout(()=>{l.current&&(l.current.muted=!1)},100)}catch(e){console.log("Muted auto-play also failed:",e),i(!0)}else i(!1)}})();let s=null;{s=async()=>{try{var e;await (null==(e=l.current)?void 0:e.play()),document.removeEventListener("click",s),document.removeEventListener("touchstart",s),document.removeEventListener("keydown",s),document.removeEventListener("scroll",s),s=null}catch(e){console.log("Music playback failed on interaction:",e)}},document.addEventListener("click",s,{once:!0}),document.addEventListener("touchstart",s,{once:!0}),document.addEventListener("keydown",s,{once:!0}),document.addEventListener("scroll",s,{once:!0}),[100,500,1e3,2e3].forEach(e=>{setTimeout(async()=>{var t,r,a,o;try{(null==(t=l.current)?void 0:t.paused)&&(await (null==(r=l.current)?void 0:r.play()),console.log("Auto-play succeeded after ".concat(e,"ms delay")))}catch(t){console.log("Auto-play attempt failed after ".concat(e,"ms:"),t);try{(null==(a=l.current)?void 0:a.paused)&&(l.current.muted=!0,await (null==(o=l.current)?void 0:o.play()),console.log("Muted auto-play succeeded after ".concat(e,"ms, unmuting...")),setTimeout(()=>{l.current&&(l.current.muted=!1)},100))}catch(t){console.log("Muted auto-play also failed after ".concat(e,"ms:"),t)}}},e)});let e=async()=>{var e,t;if(!document.hidden&&(null==(e=l.current)?void 0:e.paused))try{await (null==(t=l.current)?void 0:t.play())}catch(e){console.log("Visibility change auto-play failed:",e)}};document.addEventListener("visibilitychange",e);let t=new IntersectionObserver(e=>{e.forEach(async e=>{var r,a,o;if(e.isIntersecting&&(null==(r=l.current)?void 0:r.paused))try{await (null==(a=l.current)?void 0:a.play()),console.log("Intersection Observer auto-play succeeded"),t.disconnect()}catch(e){console.log("Intersection Observer auto-play failed:",e);try{l.current.muted=!0,await (null==(o=l.current)?void 0:o.play()),console.log("Intersection Observer muted auto-play succeeded, unmuting..."),setTimeout(()=>{l.current&&(l.current.muted=!1)},100),t.disconnect()}catch(e){console.log("Intersection Observer muted auto-play also failed:",e)}}})},{threshold:.1});return document.body&&t.observe(document.body),"complete"===document.readyState?setTimeout(async()=>{try{var e,t;(null==(e=l.current)?void 0:e.paused)&&(await (null==(t=l.current)?void 0:t.play()),console.log("Auto-play succeeded on page load complete"))}catch(e){console.log("Page load auto-play failed:",e)}},100):window.addEventListener("load",async()=>{setTimeout(async()=>{try{var e,t;(null==(e=l.current)?void 0:e.paused)&&(await (null==(t=l.current)?void 0:t.play()),console.log("Auto-play succeeded on window load"))}catch(e){console.log("Window load auto-play failed:",e)}},100)}),()=>{l.current&&(l.current.removeEventListener("play",r),l.current.removeEventListener("pause",a),l.current.removeEventListener("ended",o),l.current.pause(),l.current=null),s&&(document.removeEventListener("click",s),document.removeEventListener("touchstart",s),document.removeEventListener("keydown",s),document.removeEventListener("scroll",s)),document.removeEventListener("visibilitychange",e),t.disconnect()}}},[t]),(0,o.useEffect)(()=>{var e;if(t&&(null==(e=l.current)?void 0:e.paused)){console.log("isSharedView changed to true, attempting to play music...");let e=async()=>{var e,t;try{await (null==(e=l.current)?void 0:e.play()),console.log("Play succeeded after isSharedView change")}catch(e){console.log("Direct play failed after isSharedView change:",e);try{l.current&&(l.current.muted=!0,await (null==(t=l.current)?void 0:t.play()),console.log("Muted play succeeded after isSharedView change, unmuting..."),setTimeout(()=>{l.current&&(l.current.muted=!1)},100))}catch(e){console.log("Muted play also failed after isSharedView change:",e)}}};e(),setTimeout(e,100),setTimeout(e,500),setTimeout(e,1e3)}},[t]);let c=async()=>{var e,t;if(console.log("\uD83C\uDFB5 toggleMusic called, current state:",{isEnabled:r,audioExists:!!l.current,paused:null==(e=l.current)?void 0:e.paused,readyState:null==(t=l.current)?void 0:t.readyState}),!l.current)return void console.error("\uD83C\uDFB5 Audio object is null in toggleMusic");try{r?(console.log("\uD83C\uDFB5 Attempting to pause audio"),l.current.pause()):(console.log("\uD83C\uDFB5 Attempting to play audio manually"),l.current.muted&&(console.log("\uD83C\uDFB5 Unmuting audio before manual play"),l.current.muted=!1),await l.current.play(),setTimeout(()=>{var e,t,r,a;console.log("\uD83C\uDFB5 Audio status check after play attempt:",{paused:null==(e=l.current)?void 0:e.paused,currentTime:null==(t=l.current)?void 0:t.currentTime,volume:null==(r=l.current)?void 0:r.volume,muted:null==(a=l.current)?void 0:a.muted})},100))}catch(e){console.error("\uD83C\uDFB5 Audio playback failed in toggleMusic:",e)}};return(0,a.jsx)("div",{className:"fixed top-5 right-5 z-50",children:(0,a.jsx)("button",{onClick:c,className:"p-3 bg-black/50 backdrop-blur-sm rounded-full text-white hover:bg-black/75 focus:outline-none focus:ring-2 focus:ring-yellow-400 transition-all","aria-label":r?"Disable music":"Enable music",title:r?"Disable music":"Enable music",children:r?(0,a.jsx)(N,{}):(0,a.jsx)(E,{})})})};var S=r(1953);let L=null;async function C(){if(L)return L;let e="AIzaSyBdhVAD2z6ku79TZ4lbZtXwk874rJPxu6o";if(!e)try{let t=await fetch("/api/gemini-config");t.ok&&(e=(await t.json()).apiKey)}catch(e){console.error("Failed to fetch Gemini API key:",e)}if(!e)throw Error("GEMINI_API_KEY is not configured. Please set it in .env.local");return L=new S.M4({apiKey:e})}async function M(e,t){let r=await C();for(let a=1;a<=3;a++)try{return await r.models.generateContent({model:"gemini-2.5-flash-image-preview",contents:{parts:[e,t]},config:{responseModalities:[S.Ay.IMAGE,S.Ay.TEXT]}})}catch(t){console.error("Error calling Gemini API (Attempt ".concat(a,"/").concat(3,"):"),t);let e=t instanceof Error?t.message:JSON.stringify(t);if((e.includes('"code":500')||e.includes("INTERNAL")||e.includes("503"))&&a<3){let e=1e3*Math.pow(2,a-1);console.log("Internal error detected. Retrying in ".concat(e,"ms...")),await new Promise(t=>setTimeout(t,e));continue}throw t}throw Error("Gemini API call failed after all retries.")}async function U(e){let t=await fetch(e);if(!t.ok)throw Error("Failed to fetch image from ".concat(e,": ").concat(t.statusText));let r=await t.blob();return new Promise((e,t)=>{let a=new FileReader;a.onloadend=()=>e(a.result),a.onerror=t,a.readAsDataURL(r)})}async function T(e,t){let r=(await U(e)).match(/^data:(image\/\w+);base64,(.*)$/);if(!r)throw Error("Failed to convert image URL to a valid data URL format.");let[,a,o]=r;try{let e=await M({inlineData:{mimeType:a,data:o}},{text:"Based on the user's photo and their memory, generate a new image that artistically enhances the original. The new image should capture the feeling and essence of the memory provided.\n    \n    User's Memory: \"".concat(t,'"\n\n    The output must be a single, beautified, photorealistic image. Do not add text to the image.')});return function(e){var t,r,a,o;let n=null==(o=e.candidates)||null==(a=o[0])||null==(r=a.content)||null==(t=r.parts)?void 0:t.find(e=>e.inlineData);if(null==n?void 0:n.inlineData){let{mimeType:e,data:t}=n.inlineData;return"data:".concat(e,";base64,").concat(t)}let l=e.text;throw console.error("API did not return an image. Response:",l),Error('The AI model responded with text instead of an image: "'.concat(l||"No text response received.",'"'))}(e)}catch(t){let e=t instanceof Error?t.message:JSON.stringify(t);throw console.error("An unrecoverable error occurred during image generation.",t),Error("The AI model failed to generate an image. Details: ".concat(e))}}var P=r(5390);let R="font-permanent-marker text-xl text-center text-white bg-white/10 backdrop-blur-sm border-2 border-white/80 py-3 px-8 rounded-sm transform transition-transform duration-200 hover:scale-105 hover:rotate-2 hover:bg-white hover:text-black";async function I(e){let t=function(e){let t=e.split(","),r=t[0].match(/:(.*?);/);if(!r)throw Error("Invalid data URL format");let a=r[1],o=atob(t[1]),n=o.length,l=new Uint8Array(n);for(;n--;)l[n]=o.charCodeAt(n);return new Blob([l],{type:a})}(e),r=await fetch("/api/upload-image",{method:"POST",headers:{"Content-Type":t.type},body:t});if(!r.ok){let e=await r.text();throw Error("Image upload failed: ".concat(e))}let{url:a}=await r.json();return a}function z(){var e,t,r;let[s,i]=(0,o.useState)([]),[c,d]=(0,o.useState)(!1),[u,p]=(0,o.useState)("idle"),[g,x]=(0,o.useState)({status:"idle"}),[y,v]=(0,o.useState)(!1),[w,b]=(0,o.useState)(!1),[N,E]=(0,o.useState)(window.innerWidth),S=(0,o.useRef)(null),L=(0,o.useRef)(null),C=(0,o.useRef)(0);(0,o.useEffect)(()=>{b(!0);let e=()=>{E(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,o.useEffect)(()=>{w&&(async()=>{let e=new URLSearchParams(window.location.search),t=e.get("load_from_url"),r=e.get("data");if(t){v(!0);try{let e=await fetch(t);if(!e.ok)throw Error("Failed to fetch timeline: ".concat(e.status," ").concat(e.statusText));let r=await e.json();if(Array.isArray(r)&&(0===r.length||r.every(e=>e.id&&e.imageUrl)))i(r);else throw Error("Invalid timeline data format from cloud URL.")}catch(e){console.error("Failed to load timeline from cloud URL:",e),alert("Could not load the timeline from the provided link. The URL might be incorrect or the data corrupted.")}}else if(r){v(!0);try{let e=atob(r),t=Uint8Array.from(e,e=>e.charCodeAt(0)),a=P.Ay.inflate(t,{to:"string"}),o=JSON.parse(a);if(Array.isArray(o)&&(0===o.length||o.every(e=>e.id&&e.imageUrl)))i(o);else throw Error("Invalid photo data in shared link.")}catch(e){console.error("Failed to parse data from URL:",e),alert("Could not load the timeline from the shared link. The data might be corrupted.")}}})()},[w]);let M=async e=>{let t=e.target.files;if(!t)return;let r=!1,a=Array.from(t).filter(e=>e.type.startsWith("image/")),o=Array.from(t).filter(e=>"application/json"===e.type);if(o.length>0){let e=o[0];try{let t=await e.text(),a=JSON.parse(t),o=[];if(Array.isArray(a.photos))o=a.photos;else if(Array.isArray(a))o=a;else throw Error("JSON file is not in a recognized timeline format.");if(o.every(e=>e.id&&(e.imageUrl||e.dataUrl))){let t=o.map(e=>({...e,imageUrl:e.imageUrl||e.dataUrl||""}));i(t),r=!0,alert("Successfully loaded timeline from ".concat(e.name))}else throw Error("Invalid photo data within timeline file.")}catch(t){console.error("Error reading or parsing JSON file:",t),alert("Could not load the timeline from ".concat(e.name,". The file might be corrupted or in the wrong format."))}}if(!r&&a.length>0)for(let e of a){let t="temp-".concat(++C.current);try{let r=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;return new Promise((r,a)=>{let o=new FileReader;o.onload=e=>{var o;if(!(null==(o=e.target)?void 0:o.result))return a(Error("FileReader did not return a result."));let n=new Image;n.onload=()=>{let e=document.createElement("canvas"),{width:o,height:l}=n;o>l?o>t&&(l=Math.round(t/o*l),o=t):l>t&&(o=Math.round(t/l*o),l=t),e.width=o,e.height=l;let s=e.getContext("2d");if(!s)return a(Error("Could not get 2d context from canvas"));s.drawImage(n,0,0,o,l),r(e.toDataURL("image/jpeg",.9))},n.onerror=e=>a(e),n.src=e.target.result},o.onerror=e=>a(e),o.readAsDataURL(e)})}(e,1024),a={id:t,imageUrl:"",localDataUrl:r,date:"",message:"",status:"uploading"};i(e=>[...e,a]),I(r).then(e=>{i(r=>r.map(r=>r.id===t?{...r,imageUrl:e,status:"idle",localDataUrl:void 0}:r))}).catch(e=>{console.error("Image upload failed:",e),i(e=>e.map(e=>e.id===t?{...e,status:"error",error:"Upload failed."}:e))})}catch(t){console.error("Error processing file:",t),alert("Could not process ".concat(e.name,"."))}}},U=async e=>{let t=s.find(t=>t.id===e);if(t&&t.imageUrl){i(t=>t.map(t=>t.id===e?{...t,status:"pending"}:t));try{let r=await T(t.imageUrl,t.message),a=await I(r);i(t=>t.map(t=>t.id===e?{...t,status:"done",generatedUrl:a}:t))}catch(r){console.error("Image generation or upload failed:",r);let t=r instanceof Error?r.message:"An unknown error occurred.";i(r=>r.map(r=>r.id===e?{...r,status:"error",error:t}:r))}}},z=async()=>{if(0===s.length)return void alert("There's nothing to save. Add some photos first!");x({status:"saving"});try{let e=s.map(e=>{let{localDataUrl:t,...r}=e;return r}),t=JSON.stringify(e),r=await fetch("/api/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:t});if(!r.ok){let e=await r.text();throw Error("Failed to save: ".concat(r.status," ").concat(e))}let a=await r.json(),o=new URL(window.location.href);o.search="",o.searchParams.set("load_from_url",a.url);let n=o.toString();x({status:"success",url:n})}catch(e){console.error("Failed to save timeline to cloud:",e),x({status:"error",error:e instanceof Error?e.message:"An unknown error occurred."})}},O=async()=>{if(0===s.length)return void alert("There's nothing to share. Add some photos first!");try{let e=s.map(e=>{let{localDataUrl:t,...r}=e;return r}),t=JSON.stringify(e),r=P.Ay.deflate(t),a=btoa(Array.from(r,e=>String.fromCharCode(e)).join("")),o=new URL(window.location.href);o.search="",o.searchParams.set("data",a),await navigator.clipboard.writeText(o.toString()),p("copied"),setTimeout(()=>p("idle"),2500)}catch(e){console.error("Failed to create or copy share link:",e),alert("Sorry, there was an error creating the share link.")}},D=async()=>{let e=s.filter(e=>"done"===e.status&&e.generatedUrl);if(0===e.length)return void alert("You need at least one successfully generated image to create an album.");d(!0);try{let t=e.reduce((e,t)=>(e[t.date||t.id]=t.generatedUrl,e),{}),r=await h(t),a=document.createElement("a");a.href=r,a.download="past-forward-album.jpg",document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch(e){console.error("Failed to create or download album:",e),alert("Sorry, there was an error creating your album.")}finally{d(!1)}},_=(0,o.useMemo)(()=>[...s].sort((e,t)=>e.date.localeCompare(t.date)),[s]),F=(0,o.useMemo)(()=>{if(!w)return Array(s.length+1).fill(0).map((e,t)=>({x:(t-s.length/2)*120,y:0,rotate:0}));let e=e=>{let t=1e4*Math.sin(e);return t-Math.floor(t)},t=N<640;return y?t?Array(s.length+1).fill(0).map((t,r)=>({x:40+(e(7*r)-.5)*100+(r%2==0?-40:40),y:-20+35*r+(e(11*r)-.5)*60,rotate:(e(13*r)-.5)*25})):Array(s.length+1).fill(0).map((t,r)=>({x:(r-s.length/2)*160+(e(7*r)-.5)*280,y:(e(11*r)-.5)*220,rotate:(e(13*r)-.5)*45})):t?Array(s.length+1).fill(0).map((t,r)=>({x:(r-s.length/2)*70+(e(7*r)-.5)*40,y:50+(e(11*r)-.5)*80,rotate:(e(13*r)-.5)*25})):Array(s.length+1).fill(0).map((t,r)=>({x:(r-s.length/2)*120+(e(7*r)-.5)*150,y:(e(11*r)-.5)*150,rotate:(e(13*r)-.5)*60}))},[s.length,w,y,N]),G=s.some(e=>"done"===e.status),B=s.length>0,V=s.some(e=>"uploading"===e.status);return(0,a.jsxs)("main",{ref:S,className:"bg-black text-neutral-200 min-h-screen w-full flex flex-col items-center justify-center p-2 sm:p-4 pb-20 sm:pb-40 overflow-hidden relative",children:[(0,a.jsx)(A,{isSharedView:y}),(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-grid-white/[0.05]"}),(0,a.jsxs)("div",{className:"z-10 flex flex-col items-center justify-center w-full h-full flex-1 min-h-0",children:[(0,a.jsxs)("header",{className:"text-center my-2 sm:my-4 md:my-10",children:[(0,a.jsx)("h1",{className:"text-4xl sm:text-6xl md:text-8xl font-caveat font-bold text-neutral-100",children:"First Anniversary"}),(0,a.jsx)("p",{className:"font-caveat text-2xl sm:text-3xl md:text-4xl text-neutral-200 mt-1",children:"我爱你"}),!y&&(0,a.jsx)("p",{className:"font-permanent-marker text-neutral-300 mt-1 sm:mt-2 text-sm sm:text-xl tracking-wide",children:"Generate a new timeline."})]}),(0,a.jsx)("div",{className:"w-full h-full flex-1 flex items-center justify-center",children:(0,a.jsxs)(n.N,{children:[_.map((e,t)=>(0,a.jsx)(l.P.div,{className:"absolute",initial:{opacity:0,scale:.5,y:100,rotate:0},animate:{opacity:1,scale:1,x:F[t].x,y:F[t].y,rotate:F[t].rotate},exit:{opacity:0,scale:.5,transition:{duration:.2}},transition:{type:"spring",stiffness:120,damping:20,delay:.1*t},children:(0,a.jsx)(k,{children:(0,a.jsx)(j,{dragConstraintsRef:S,className:"!p-0 !bg-transparent !shadow-none",children:(0,a.jsx)(m,{...e,dataUrl:y?e.generatedUrl||e.imageUrl||e.localDataUrl||"":e.localDataUrl||e.imageUrl||"",onUpdate:t=>{var r;return r=e.id,void i(e=>e.map(e=>e.id===r?{...e,...t}:e))},onDelete:()=>{var t;return t=e.id,void i(s.filter(e=>e.id!==t))},onGenerate:()=>U(e.id),isSharedView:y})})})},e.id)),!y&&(0,a.jsx)(l.P.div,{className:"absolute",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,x:null==(e=F[s.length])?void 0:e.x,y:null==(t=F[s.length])?void 0:t.y,rotate:null==(r=F[s.length])?void 0:r.rotate},transition:{type:"spring",stiffness:120,damping:20,delay:.1*s.length},children:(0,a.jsx)(k,{children:(0,a.jsxs)(j,{dragConstraintsRef:S,className:"!p-0 !bg-transparent !shadow-none",children:[(0,a.jsx)("div",{onClick:()=>{var e;return null==(e=L.current)?void 0:e.click()},className:"bg-neutral-100 dark:bg-neutral-100 !p-2 sm:!p-4 !pb-16 sm:!pb-24 flex flex-col items-center justify-center aspect-[3/4] w-full sm:w-80 max-w-[200px] sm:max-w-full rounded-md shadow-lg relative cursor-pointer group hover:bg-neutral-200 transition-colors",children:(0,a.jsxs)("div",{className:"w-full bg-neutral-900 shadow-inner flex-grow relative overflow-hidden flex flex-col items-center justify-center text-neutral-500 group-hover:text-neutral-300 transition-colors duration-300 text-center p-2 sm:p-4",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 sm:h-16 sm:w-16 mb-1 sm:mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,a.jsx)("span",{className:"font-permanent-marker text-sm sm:text-xl",children:"Add Photo"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm mt-1",children:"or load a saved timeline (.json)"}),V&&(0,a.jsx)("div",{className:"absolute bottom-2 left-2 right-2 text-xs text-yellow-400 font-semibold",children:"Uploading..."})]})}),(0,a.jsx)("input",{type:"file",ref:L,onChange:M,className:"hidden",accept:"image/png, image/jpeg, image/webp, application/json",multiple:!0})]})})},"upload-photo")]})}),(0,a.jsx)("div",{className:"fixed bottom-28 z-30 flex items-center justify-center",children:B&&!y&&(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 bg-neutral-900/50 backdrop-blur-sm p-4 rounded-lg border border-neutral-800 w-[90vw] max-w-4xl",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4 w-full",children:[(0,a.jsx)("button",{onClick:z,disabled:"saving"===g.status||V,className:"".concat("font-permanent-marker text-xl text-center text-black bg-yellow-400 py-3 px-8 rounded-sm transform transition-transform duration-200 hover:scale-105 hover:-rotate-2 hover:bg-yellow-300 shadow-[2px_2px_0px_2px_rgba(0,0,0,0.2)]"," w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed"),children:"saving"===g.status?"Saving...":"Save to Cloud"}),(0,a.jsx)("button",{onClick:()=>{if(0===s.length)return void alert("There's nothing to export. Add some photos first!");try{let e={photos:s.map(e=>{let{localDataUrl:t,...r}=e;return r})};"success"===g.status&&g.url&&(e.shareableUrl=g.url);let t=JSON.stringify(e,null,2),r=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.download="past-forward-timeline.json",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}catch(e){console.error("Failed to export JSON file:",e),alert("Sorry, there was an error exporting your timeline.")}},disabled:V,className:"".concat(R," w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed"),children:"Export File"}),(0,a.jsx)("button",{onClick:D,disabled:c||!G||V,className:"".concat(R," w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed"),children:c?"Creating...":"Download Album"}),(0,a.jsx)("button",{onClick:O,disabled:!B||V,className:"".concat(R," w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed"),title:"Share your timeline",children:"copied"===u?"Link Copied!":"Share Link"})]}),V&&(0,a.jsx)("p",{className:"text-xs text-yellow-400 animate-pulse",children:"Please wait for images to finish uploading..."}),(0,a.jsxs)(n.N,{children:["success"===g.status&&g.url&&(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"mt-2 text-center text-sm w-full",children:[(0,a.jsx)("p",{className:"text-green-400",children:"✅ Saved! Use this link to reload your timeline anytime:"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1 bg-neutral-800 p-1 rounded-md",children:[(0,a.jsx)("input",{type:"text",readOnly:!0,value:g.url,className:"bg-transparent text-neutral-300 w-full p-1 text-xs focus:outline-none"}),(0,a.jsx)("button",{onClick:()=>navigator.clipboard.writeText(g.url),className:"bg-yellow-400 text-black font-semibold text-xs px-3 py-1 rounded-sm hover:bg-yellow-300 transition-colors flex-shrink-0",children:"Copy"})]})]}),"error"===g.status&&(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"mt-2 text-center text-sm text-red-400",children:[(0,a.jsx)("p",{children:"❌ Save failed. Please try again."}),g.error&&(0,a.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:g.error})]})]})]})})]}),!y&&(0,a.jsx)(f,{})]})}},6429:(e,t,r)=>{Promise.resolve().then(r.bind(r,412))}},e=>{e.O(0,[346,354,982,900,341,358],()=>e(e.s=6429)),_N_E=e.O()}]);